(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6390:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7111)}])},7111:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return X}});var t=n(1527),r=n(959),i=n(7368),l=n(9928),c=n(5260),a=n(9002),d=n(2445),h=n(4172),o=n(8063),x=n(8082),j=n(1634),u=n(9920),f=n(2831),m=n(2698),p=n(8616),b=n(544);let w=(0,b.io)("http://localhost:6969");var v=n(2662),_=n(6595);function g(e){let{height:s,header:n,divider:r,px:i,children:l}=e;return(0,t.jsxs)(x.X,{withBorder:!0,shadow:"xs",radius:"sm",h:s||500,children:[n&&(0,t.jsx)(j.M,{py:5,children:n}),r&&(0,t.jsx)(v.i,{}),(0,t.jsx)(_.x,{px:i,h:"100%",children:l})]})}var y=n(738),Z=n(1546),k=n(5720),S=n(7453);function C(){let{colorScheme:e,toggleColorScheme:s}=(0,y.X)(),n="dark"===e;return(0,t.jsx)(Z.A,{maw:20,variant:"outline",color:n?"yellow":"blue",onClick:()=>s(),title:"Změnit motiv",children:n?(0,t.jsx)(k.Z,{size:"1.1rem"}):(0,t.jsx)(S.Z,{size:"1.1rem"})})}function E(e){let{children:s}=e;return(0,t.jsxs)(a.K,{h:"100%",children:[(0,t.jsx)(x.X,{shadow:"xs",p:"sm",withBorder:!0,radius:0,children:(0,t.jsxs)(d.Z,{justify:"space-between",children:[(0,t.jsx)(c.x,{children:"Header"}),(0,t.jsx)(C,{})]})}),(0,t.jsx)(_.x,{h:"100%",px:"sm",children:s})]})}var z=n(5241),B=n.n(z),N=n(8891),P=n.n(N);function X(){let[e,s]=(0,r.useState)(w.connected),[n,b]=(0,r.useState)(new Date),[v,_]=(0,r.useState)(1),[y,Z]=(0,r.useState)(null),[k,S]=(0,r.useState)([]),C={width:(0,i.h)(12),height:(0,i.h)(12)};async function z(e){w.emit(e)}return(0,r.useEffect)(()=>{function e(){s(!0)}function n(){s(!1)}function t(e){Z(e)}function r(e){S(s=>[...s,e])}return w.on("connect",e),w.on("disconnect",n),w.on("data",t),w.on("message",r),()=>{w.off("connect",e),w.off("disconnect",n),w.off("data",t),w.off("message",r)}},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>b(new Date),1e3);return function(){clearInterval(e)}},[]),(0,t.jsx)(E,{children:(0,t.jsxs)(l.r,{h:"100%",children:[(0,t.jsx)(l.r.Col,{span:2,children:(0,t.jsx)(g,{divider:!0,px:"xs",height:980,header:(0,t.jsx)(c.x,{fw:"bold",children:"Info"}),children:y&&(0,t.jsxs)(a.K,{gap:0,pt:"xs",children:[(0,t.jsxs)(d.Z,{justify:"space-between",children:[(0,t.jsx)(c.x,{children:"Stav Baterie"}),(0,t.jsxs)(c.x,{children:[y.battery," %"]})]}),(0,t.jsxs)(d.Z,{justify:"space-between",children:[(0,t.jsx)(c.x,{children:"Doba j\xedzdy"}),(0,t.jsx)(c.x,{children:P()(P()(n).diff(P()(1e3*y.start_time))).format("mm:ss")})]}),(0,t.jsxs)(d.Z,{justify:"space-between",children:[(0,t.jsx)(c.x,{children:"Počet Red Bullů"}),(0,t.jsx)(c.x,{children:y.n_objects})]}),(0,t.jsxs)(d.Z,{justify:"space-between",children:[(0,t.jsx)(c.x,{children:"Počet Ztracen\xfdch Red Bullů"}),(0,t.jsx)(c.x,{children:y.start_objects-y.n_objects})]})]})})}),(0,t.jsx)(l.r.Col,{span:8,children:(0,t.jsx)(g,{height:980,children:(0,t.jsxs)(h.m,{defaultValue:"camera",classNames:B(),children:[(0,t.jsxs)(h.m.List,{children:[(0,t.jsx)(h.m.Tab,{value:"camera",styles:{tabLabel:{fontWeight:"bold"}},leftSection:(0,t.jsx)(m.Z,{style:C}),children:"Kamera"}),(0,t.jsx)(h.m.Tab,{value:"map",styles:{tabLabel:{fontWeight:"bold"}},leftSection:(0,t.jsx)(p.Z,{style:C}),children:"Mapa"})]}),(0,t.jsx)(h.m.Panel,{value:"camera",children:(0,t.jsx)("img",{src:"http://localhost:6969/video",alt:"camera feed",width:"100%"})}),(0,t.jsx)(h.m.Panel,{value:"map",children:(0,t.jsx)("img",{src:"http://localhost:6969/map",alt:"camera feed",width:"100%"})})]})})}),(0,t.jsx)(l.r.Col,{span:2,children:(0,t.jsx)(g,{divider:!0,px:"xs",height:980,header:(0,t.jsx)(c.x,{fw:"bold",children:"Feed"}),children:(0,t.jsxs)(a.K,{h:920,justify:"space-between",mt:"xs",children:[k.length>0?(0,t.jsx)(o.x,{h:900,children:k.map(e=>(0,t.jsx)(x.X,{my:"xs",p:"sm",radius:"md",style:e=>({background:e.colors.blue[7],color:"white"}),children:e}))}):(0,t.jsx)(j.M,{children:(0,t.jsx)(c.x,{c:"gray.8",children:"Zat\xedm je tu pr\xe1zdno"})}),(0,t.jsxs)(d.Z,{grow:!0,gap:5,children:[(0,t.jsx)(u.z,{variant:"filled",color:"green.8",onClick:()=>z("start"),children:"Start"}),(0,t.jsx)(u.z,{variant:"filled",color:"red.8",onClick:()=>z("stop"),children:"Stop"}),(0,t.jsx)(f.Y,{value:v,onChange:e=>_(+e)})]})]})})})]})})}},5241:function(e){e.exports={list:"Tabs_list__BpUkH"}}},function(e){e.O(0,[997,774,888,179],function(){return e(e.s=6390)}),_N_E=e.O()}]);